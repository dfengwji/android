tasks.whenTaskAdded {
    task ->
    if(task.name.contains("assembleDebug")){
        task.doLast {
            println("assembleDebug do last!!!!")
            def fileName = "IVRIdle-debug.apk"
 def fromFile = './build/outputs/apk/' + fileName
            def intoFile = "../"
 println("move file from" + fromFile + " to "+intoFile)
            copy {
                from fromFile
                into intoFile
            }

            tasks.runCommand.execute()
        }
    }
}

task runCommand(){
    doFirst{
        println("run command dofirst!!!")
    }
    doLast {
        exec {
            workingDir = '../';
            println ("call bat file!!!!"+workingDir)
            commandLine = ['cmd', '/c', 'signAndInstall.bat']
        }
    }
}
